(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(1),r=n.n(o),a=n(23),s=n.n(a),u=n(13),i=n(5),l=n(4),f=n.n(l);f.a.defaults.headers.common={"Content-Type":"application/json"};n(24),n(10),n(11);f.a.defaults.headers.common={"Content-Type":"application/json"};var b="api/images",d=function(){return f.a.get(b).then((function(t){return t.data}))},h=function(t){return f.a.post(b,t).then((function(t){return console.log("this got sent back from the backend",t),t.data}))},j="white",p=[],g=function(){var t=Object(o.useRef)(null),e=Object(o.useRef)(null),n=Object(o.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1],l=Object(o.useState)(),f=Object(i.a)(l,2),b=f[0],g=f[1],v=Object(o.useState)([]),m=Object(i.a)(v,2),O=m[0],x=m[1];Object(o.useEffect)((function(){g(!1);var n=t.current;n.width=600,n.height=400,n.style.width="".concat(n.width,"px"),n.style.height="".concat(n.height,"px");var c=n.getContext("2d");c.fillStyle=j,c.fillRect(0,0,n.width,n.height),d().then((function(t){console.log(t),x(t.images)})),c.lineCap="round",c.strokeStyle="black",c.lineWidth=5,e.current=c}),[b]);var y=function(t){t.preventDefault(),g(!0)};return Object(c.jsxs)("div",{className:"canvas-holder",children:[Object(c.jsx)("canvas",{onMouseDown:function(t){var n=t.nativeEvent,c=n.offsetX,o=n.offsetY;e.current.beginPath(),e.current.moveTo(c,o),s(!0)},onMouseUp:function(){s(!1),e.current.closePath(),p.push(e.current.getImageData(0,0,600,400)),console.log(p)},onMouseMove:function(t){var n=t.nativeEvent;if(a){var c=n.offsetX,o=n.offsetY;e.current.lineTo(c,o),e.current.stroke()}},onMouseLeave:function(){s(!1),e.current.closePath()},ref:t}),Object(c.jsxs)("div",{className:"saved-images",children:[Object(c.jsx)("h3",{children:"saved images"}),O.map((function(t,e){return Object(c.jsx)("img",{className:"drawing",alt:"saved drawing",src:t.drawing_src},e)}))]}),Object(c.jsx)("input",{onInput:function(t){return function(t){e.current.strokeStyle=t.target.value}(t)},type:"color",class:"color-picker"}),Object(c.jsx)("input",{onChange:function(t){return function(t){e.current.lineWidth=t.target.value}(t)},type:"range",min:"1",max:"100",class:"pen-range",step:"1"}),Object(c.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),e.current.strokeStyle=j}(t)},type:"button",className:"eraser",children:"Erase"}),Object(c.jsx)("button",{onClick:function(t){return y(t)},type:"button",className:"button",children:"Clear"}),Object(c.jsx)("button",{onClick:function(t){return(n=t).preventDefault(),p.pop(),p.length>0&&(e.current.putImageData(p[p.length-1],0,0),console.log(p)),void(0===p.length&&y(n));var n},type:"button",className:"button",children:"Undo"}),Object(c.jsx)("button",{onClick:function(e){return function(e){console.log(O),e.preventDefault();var n=t.current.toDataURL();console.log(n),x([].concat(Object(u.a)(O),[{drawing_src:n}])),h({drawing_src:"".concat(n),userid:1})}(e)},type:"button",className:"button",children:"Save"}),Object(c.jsx)("button",{onClick:function(t){return t.preventDefault(),void e.current.putImageData(O[0],0,0)},type:"button",className:"button",children:"Load"})]})};var v=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:" APPs"}),Object(c.jsx)(g,{})]})};n(47);s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.d3f7580d.chunk.js.map